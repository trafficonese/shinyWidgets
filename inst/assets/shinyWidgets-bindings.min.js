function getFormattedDate(date){var year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();return month>9?day>9?year+"-"+month+"-"+day:year+"-"+month+"-0"+day:day>9?year+"-0"+month+"-"+day:year+"-0"+month+"-0"+day}function tron_skin(){if("tron"==this.$.data("skin")){this.cursorExt=.3;var pa,a=this.arc(this.cv),r=1;return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(pa=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,pa.s,pa.e,pa.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=r?this.o.fgColor:this.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,a.s,a.e,a.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}function forceIonSliderTextUpdate(slider){slider.$cache&&slider.$cache.input?slider.$cache.input.trigger("change"):console.log("Couldn't force ion slider to update")}var AirPickerInputBinding=new Shiny.InputBinding;$.extend(AirPickerInputBinding,{initialize:function(el){var config=$(el).parent().parent().find('script[data-for="'+el.id+'"]');config=JSON.parse(config.html());var options=config.options;if(config.hasOwnProperty("value")){for(var dateraw=config.value,datedefault=[],i=0;i<dateraw.length;i++)datedefault[i]=new Date(dateraw[i]);config.value=datedefault}if(options.hasOwnProperty("minDate")&&(options.minDate=new Date(options.minDate)),options.hasOwnProperty("maxDate")&&(options.maxDate=new Date(options.maxDate)),options.hasOwnProperty("startDate")&&(options.startDate=new Date(options.startDate)),config.todayButtonAsDate&&(options.todayButton=new Date(options.todayButton)),config.hasOwnProperty("disabledDates")){var disabledDates=config.disabledDates;options.onRenderCell=function(d,type){if("day"==type){var disabled=!1,formatted=getFormattedDate(d);return disabled=disabledDates.filter(function(date){return date==formatted}).length,{disabled:disabled}}}}"close"==config.updateOn?options.onHide=function(inst,animationCompleted){animationCompleted&&$(el).trigger("change")}:options.onSelect=function(){$(el).trigger("change")};var dp=$(el).datepicker(options).data("datepicker");dp.selectDate(config.value),config.hasOwnProperty("startView")&&(dp.date=new Date(config.startView))},find:function(scope){return $(scope).find(".sw-air-picker")},getId:function(el){return $(el).attr("id")},getType:function(el){return"false"!==$(el).attr("data-timepicker")?"air.datetime":"air.date"},getValue:function(el){function padZeros(n,digits){for(var str=n.toString();str.length<digits;)str="0"+str;return str}function formatDate(date){return date instanceof Date?date.getFullYear()+"-"+padZeros(date.getMonth()+1,2)+"-"+padZeros(date.getDate(),2):null}var res,sd=$(el).datepicker().data("datepicker").selectedDates,timepicker=$(el).attr("data-timepicker");return sd.length>0?res=sd.map("false"===timepicker?function(e){return formatDate(e)}:function(e){return e.valueOf()}):null},setValue:function(el,value){value=JSON.parse(value);for(var newdate=[],i=0;i<value.length;i++)newdate[i]=new Date(value[i]);var datepicker=$(el).datepicker().data("datepicker");datepicker.selectDate(newdate)},subscribe:function(el,callback){$(el).on("change",function(){callback()})},unsubscribe:function(el){$(el).off(".AirPickerInputBinding")},receiveMessage:function(el,data){data.clear&&$(el).datepicker().data("datepicker").clear(),data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+data.id+'"]').text(data.label),data.hasOwnProperty("options")&&(data.options.hasOwnProperty("minDate")&&(data.options.minDate=new Date(data.options.minDate)),data.options.hasOwnProperty("maxDate")&&(data.options.maxDate=new Date(data.options.maxDate)),$(el).datepicker().data("datepicker").update(data.options)),data.hasOwnProperty("placeholder")&&($("#"+data.id)[0].placeholder=data.placeholder),$(el).trigger("change")}}),Shiny.inputBindings.register(AirPickerInputBinding,"shiny.AirPickerInput"),Date.prototype.yyyymmdd=function(){var mm=this.getMonth()+1,dd=this.getDate();return[this.getFullYear(),(mm>9?"":"0")+mm,(dd>9?"":"0")+dd].join("-")},$(function(){$(".sw-switchInput").each(function(){$(this).bootstrapSwitch()})});var switchInputBinding=new Shiny.InputBinding;$.extend(switchInputBinding,{find:function(scope){return $(scope).find(".sw-switchInput")},getId:function(el){return el.id},getValue:function(el){return el.checked},setValue:function(el,value){el.checked=value},subscribe:function(el,callback){$(el).on("switchChange.bootstrapSwitch",function(){callback(!1)})},unsubscribe:function(el){$(el).off(".switchInputBinding")},getState:function(el){return{value:el.checked}},receiveMessage:function(el,data){data.hasOwnProperty("value")&&(el.checked=data.value),data.hasOwnProperty("label")&&$(el).bootstrapSwitch("labelText",data.label),data.hasOwnProperty("offLabel")&&$(el).bootstrapSwitch("offText",data.offLabel),data.hasOwnProperty("onLabel")&&$(el).bootstrapSwitch("onText",data.onLabel),data.hasOwnProperty("onStatus")&&$(el).bootstrapSwitch("onColor",data.onStatus),data.hasOwnProperty("offStatus")&&$(el).bootstrapSwitch("offColor",data.offStatus),data.hasOwnProperty("disabled")&&$(el).bootstrapSwitch("disabled",data.disabled,data.disabled),$(el).trigger("change")},initialize:function(el){$(el).bootstrapSwitch()}}),Shiny.inputBindings.register(switchInputBinding,"shiny.switchInput"),document.addEventListener("click",function(){"[object HTMLButtonElement]"==document.activeElement.toString()&document.activeElement.classList.contains("checkbtn")&&document.activeElement.blur()});var exports4but=window.Shiny=window.Shiny||{},$escape4but=exports4but.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},checkboxGroupButtonsBinding=new Shiny.InputBinding;$.extend(checkboxGroupButtonsBinding,{find:function(scope){return $(scope).find(".checkboxGroupButtons")},getId:function(el){return el.id},getValue:function(el){for(var $objs=$('input:checkbox[name="'+$escape4but(el.id)+'"]:checked'),values=new Array($objs.length),i=0;i<$objs.length;i++)values[i]=$objs[i].value;return values},setValue:function(el,value){if($('input:checkbox[name="'+$escape4but(el.id)+'"]').prop("checked",!1),$('input:checkbox[name="'+$escape4but(el.id)+'"]').parent().removeClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"]').parent().blur(),value instanceof Array)for(var i=0;i<value.length;i++)$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value[i])+'"]').parent().addClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value[i])+'"]').prop("checked",!0);else $('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').parent().addClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').prop("checked",!0)},subscribe:function(el,callback){$(el).on("change.checkboxGroupButtonsBinding",function(){callback()})},unsubscribe:function(el){$(el).off(".checkboxGroupButtonsBinding")},getState:function(el){for(var $objs=$('input:checkbox[name="'+$escape4but(el.id)+'"]'),options=new Array($objs.length),i=0;i<options.length;i++)options[i]={value:$objs[i].value};return{value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($el.find("div.btn-group-container-sw").empty(),$el.find("div.btn-group-container-sw").append(data.options)),data.hasOwnProperty("selected")&&this.setValue(el,data.selected),data.hasOwnProperty("label")&&$el.find('label[for="'+$escape4but(el.id)+'"]').text(data.label),$(el).trigger("change")}}),Shiny.inputBindings.register(checkboxGroupButtonsBinding,"shiny.checkboxGroupButtonsInput");var exportsKnob=window.Shiny=window.Shiny||{},$escapeKnob=exportsKnob.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},knobInputBinding=new Shiny.InputBinding;$.extend(knobInputBinding,{find:function(scope){return $(scope).find(".knob-input")},initialize:function(el){var value=$(el).data("value");el.value=value,$(el).knob({draw:tron_skin})},getValue:function(el){return parseFloat(el.value)},subscribe:function(el,callback){var immediate=$(el).data("immediate");immediate?($(el).on("keyup.knobInputBinding",function(){callback(!0)}),$(el).trigger("configure",{change:function(){callback(!1)},release:function(){callback(!1)}}),$(el).on("change.knobInputBinding",function(){callback(!1)})):($(el).on("keyup.knobInputBinding",function(){callback(!0)}),$(el).trigger("configure",{release:function(){callback(!0)}}))},unsubscribe:function(el){$(el).off(".knobInputBinding")},receiveMessage:function(el,data){data.hasOwnProperty("value")&&$(el).val(data.value).trigger("change"),data.hasOwnProperty("readOnly")&&$(el).trigger("configure",{readOnly:data.readOnly}),data.hasOwnProperty("options")&&$(el).trigger("configure",data.options),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+$escapeKnob(el.id)+'"]').text(data.label),$(el).trigger("change")},getState:function(el){return{label:$(el).parent().parent().find('label[for="'+$escapeKnob(el.id)+'"]').text(),value:el.value}},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(knobInputBinding,"shiny.knobInput");var exportsMulti=window.Shiny=window.Shiny||{},$escapeMulti=exportsMulti.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},multiInputBinding=new Shiny.InputBinding;$.extend(multiInputBinding,{initialize:function(el){var config=$(el).parent().find('script[data-for="'+$escapeMulti(el.id)+'"]');config=JSON.parse(config.html()),$(el).multi(config),$(el).trigger("change")},find:function(scope){return $(scope).find(".multijs")},getId:function(el){return el.id},getValue:function(el){return $(el).val()},setValue:function(el,value){$(el).val(value),$(el).multi(),$(el).trigger("change")},getState:function(el){for(var options=new Array(el.length),i=0;i<el.length;i++)options[i]={value:el[i].value,label:el[i].label};return{label:$(el).parent().find('label[for="'+$escapeMulti(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&$el.empty().append(data.options),data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+$escapeMulti(el.id)+'"]').text(data.label);var event=new Event("change");$(el).multi(),$el.get(0).dispatchEvent(event),$el.trigger("change")},subscribe:function(el,callback){$(el).on("change",function(){callback()})},unsubscribe:function(el){$(el).off(".multiInputBinding")}}),Shiny.inputBindings.register(multiInputBinding,"shiny.multiInput");var exportsnoUi=window.Shiny=window.Shiny||{},$escapenoUi=exportsnoUi.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},noUiSliderBinding=new Shiny.InputBinding;$.extend(noUiSliderBinding,{find:function(scope){return $(scope).find(".sw-no-ui-slider")},getId:function(el){return el.id},getType:function(el){var dataType=$(el).data("data-type");return"date"===dataType?"shiny.date":"datetime"===dataType?"shiny.datetime":!1},getValue:function(el){var result,slider=document.getElementById(el.id),values=slider.noUiSlider.get(),$el=$(el),config=$el.parent().find('script[data-for="'+$escapenoUi(el.id)+'"]');return config=JSON.parse(config.html()),"undefined"!=typeof config.format?(numformat=wNumb(config.format),result=Array.isArray(values)?values.map(numformat.from):numformat.from(values)):result=Array.isArray(values)?values.map(Number):Number(values),result},setValue:function(el,value){var slider=document.getElementById(el.id);slider.noUiSlider.set(value)},subscribe:function(el,callback){var slider=document.getElementById(el.id),update_on=$("#"+el.id).data("update");"end"==update_on?(slider.noUiSlider.on("change",function(){callback()}),slider.noUiSlider.on("set",function(){callback()})):(slider.noUiSlider.on("slide",function(){callback()}),slider.noUiSlider.on("set",function(){callback()}))},unsubscribe:function(el){$(el).off(".noUiSliderBinding")},receiveMessage:function(el,data){var slider=document.getElementById(el.id);data.disable?slider.setAttribute("disabled",!0):slider.removeAttribute("disabled"),data.hasOwnProperty("range")&&slider.noUiSlider.updateOptions({range:{min:data.range[0],max:data.range[1]}}),slider.noUiSlider.set(data.value),$(el).trigger("change")},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(){},initialize:function(el){var $el=$(el),config=$el.parent().find('script[data-for="'+$escapenoUi(el.id)+'"]');config=JSON.parse(config.html()),"undefined"!=typeof config.format&&(config.format=wNumb(config.format));var slider=document.getElementById(el.id);"vertical"===config.orientation&&(slider.style.margin="0 auto 30px"),noUiSlider.create(slider,config)}}),Shiny.inputBindings.register(noUiSliderBinding,"shiny.noUiSlider");var numericRangeInputBinding=new Shiny.InputBinding;$.extend(numericRangeInputBinding,{find:function(scope){return $(scope).find(".shiny-numeric-range-input")},getValue:function(el){var $inputs=$(el).find("input"),start=$inputs[0].value,end=$inputs[1].value;return start=/^\s*$/.test(start)?null:isNaN(start)?start:+start,end=/^\s*$/.test(end)?null:isNaN(end)?end:+end,[start,end]},setValue:function(el,value){el.find("input")[0].value=value[0],el.find("input")[1].value=value[1]},subscribe:function(el,callback){$(el).on("change.numericRangeInputBinding",function(){callback()})},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("value")&&($el.find("input")[0].value=data.value[0]),$el.find("input")[1].value=data.value[1],$(el).trigger("change")},unsubscribe:function(el){$(el).off(".numericRangeInputBinding")}}),Shiny.inputBindings.register(numericRangeInputBinding,"wd.numericRangeInputBin"),Shiny.addCustomMessageHandler("update-progressBar-shinyWidgets",function(data){var pct,id=data.id,total=data.total,value=Math.round(data.value);total>0?(pct=Math.round(value/total*100),$("#"+id+"-value").text(value),$("#"+id+"-total").text(total),value=Math.round(value/total*100)):pct=data.percent>0?data.percent:value,$("#"+id).css("width",pct+"%");var txt=$("#"+id).text();""!==txt&&$("#"+id).text(value+data.unit_mark),null!==data.status&&($("#"+id).removeClass(),$("#"+id).addClass("progress-bar progress-bar-"+data.status)),null!==data.title&&$("#"+id+"-title").text(data.title)});var exports4but=window.Shiny=window.Shiny||{},$escape4but=exports4but.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},radioGroupButtonsBinding=new Shiny.InputBinding;$.extend(radioGroupButtonsBinding,{find:function(scope){return $(scope).find(".radioGroupButtons")},getId:function(el){return el.id},getValue:function(el){return $('input:radio[name="'+$escape4but(el.id)+'"]:checked').val()},setValue:function(el,value){$('input:radio[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').prop("checked",!0),$('input:radio[name="'+$escape4but(el.id)+'"]').parent().removeClass("active"),$('input:radio[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').parent().addClass("active")},subscribe:function(el,callback){$(el).on("change.radioGroupButtonsBinding",function(){callback()})},unsubscribe:function(el){$(el).off(".radioGroupButtonsBinding")},getState:function(el){for(var $objs=$('input:radio[name="'+$escape4but(el.id)+'"]'),options=new Array($objs.length),i=0;i<options.length;i++)options[i]={value:$objs[i].value,label:this._getLabel($objs[i])};return{label:$(el).parent().find('label[for="'+$escape4but(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($el.find("div.btn-group-container-sw").empty(),$el.find("div.btn-group-container-sw").append(data.options)),data.hasOwnProperty("selected")&&this.setValue(el,data.selected),data.hasOwnProperty("label")&&$(el).parent().find('label[for="'+$escape4but(el.id)+'"]').text(data.label),$(el).trigger("change")}}),Shiny.inputBindings.register(radioGroupButtonsBinding,"shiny.radioGroupButtonsInput");var exportsSearch=window.Shiny=window.Shiny||{},$escapeSearch=exportsSearch.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},searchInputBinding=new Shiny.InputBinding;$.extend(searchInputBinding,{find:function(scope){return $(scope).find(".search-text")},getId:function(el){return $(el).attr("id")},getValue:function(el){return $("#"+$escapeSearch(el.id)+"_text").val()},setValue:function(el,value){$("#"+$escapeSearch(el.id)+"_text").val(value)},subscribe:function(el,callback){$("#"+$escapeSearch(el.id)+"_text").on("keyup.searchInputBinding input.searchInputBinding",function(event){13==event.keyCode&&callback()}),$("#"+$escapeSearch(el.id)+"_search").on("click",function(){callback()}),$("#"+$escapeSearch(el.id)+"_reset").on("click",function(){var reset=$("#"+$escapeSearch(el.id)).data("reset");if("TRUE"==reset){var resetValue=$("#"+$escapeSearch(el.id)).data("reset-value");$("#"+$escapeSearch(el.id)+"_text").val(resetValue)}callback()})},unsubscribe:function(el){$(el).off(".searchInputBinding")},receiveMessage:function(el,data){data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().find('label[for="'+el.id+'"]').text(data.label),data.hasOwnProperty("placeholder")&&($("#"+el.id+"_text")[0].placeholder=data.placeholder),data.trigger&&$("#"+el.id+"_search").click(),$(el).trigger("change")},getState:function(el){return{value:this.getValue(el)}},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(searchInputBinding,"shiny.searchInput");var exportsPicker=window.Shiny=window.Shiny||{},$escapePicker=exportsPicker.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},pickerInputBinding=new Shiny.InputBinding;$.extend(pickerInputBinding,{find:function(scope){return $(scope).find(".selectpicker")},getId:function(el){return el.id},getValue:function(el){return $(el).val()},setValue:function(el,value){$(el).val(value),$(el.id).selectpicker("refresh")},getState:function(el){for(var options=new Array(el.length),i=0;i<el.length;i++)options[i]={value:el[i].value,label:el[i].label};return{label:$(el).parent().find('label[for="'+$escapePicker(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($(el).attr(data.options),this.picker.selectpicker("render")),data.hasOwnProperty("choices")&&($el.empty().append(data.choices),$(el).selectpicker("refresh")),data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+$escapePicker(el.id)+'"]').text(data.label),$(el).trigger("change")},subscribe:function(el,callback){$(el).on("changed.bs.select",function(){callback()}),$(el).on("hidden.bs.select",function(){"TRUE"===$(el).attr("selectontop")&&($("#"+el.id+" option:selected").prependTo("#"+el.id),$(el).selectpicker("refresh"))})},unsubscribe:function(el){$(el).off(".pickerInputBinding")},initialize:function(el){this.picker=$(el).selectpicker()}}),Shiny.inputBindings.register(pickerInputBinding,"shiny.pickerInput");var exportsST=window.Shiny=window.Shiny||{},$escapeST=exportsST.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},sliderTextBinding=new Shiny.InputBinding;$.extend(sliderTextBinding,{find:function(scope){return $.fn.ionRangeSlider?$(scope).find(".sw-slider-text"):[]},getType:function(el){var dataType=$(el).data("data-type");return"date"===dataType?"shiny.date":"datetime"===dataType?"shiny.datetime":!1},getValue:function(el){var slider=$(el).data("ionRangeSlider"),result=slider.result,options=slider.options,values=options.values;return 2===this._numValues(el)?[values[result.from],values[result.to]]:values[result.from]},setValue:function(el,value){var $el=$(el),slider=$el.data("ionRangeSlider");$el.data("immediate",!0);try{slider.update(2===this._numValues(el)&&value instanceof Array?{from:value[0],to:value[1]}:{from:value}),forceIonSliderTextUpdate(slider)}finally{$el.data("immediate",!1)}},subscribe:function(el,callback){$(el).on("change.sliderInputBinding",function(){callback(!$(el).data("immediate")&&!$(el).data("animating"))})},unsubscribe:function(el){$(el).off(".sliderInputBinding")},receiveMessage:function(el,data){var $el=$(el),slider=$el.data("ionRangeSlider"),options=slider.options,msg={},values=options.values;data.hasOwnProperty("choices")&&(msg.values=data.choices,values=data.choices),data.hasOwnProperty("selected")&&(2===this._numValues(el)&&data.selected instanceof Array?(msg.from=values.indexOf(data.selected[0]),msg.to=values.indexOf(data.selected[1])):msg.from=values.indexOf(data.selected)),data.hasOwnProperty("from_fixed")&&(msg.from_fixed=data.from_fixed),data.hasOwnProperty("to_fixed")&&(msg.to_fixed=data.to_fixed),data.hasOwnProperty("label")&&$el.parent().find('label[for="'+$escapeST(el.id)+'"]').text(data.label),$el.data("immediate",!0);try{slider.update(msg),forceIonSliderTextUpdate(slider)}finally{$el.data("immediate",!1)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(){},initialize:function(el){var opts={},$el=$(el),values=$(el).data("swvalues");opts.values=values,$el.ionRangeSlider(opts)},_numValues:function(el){return"double"===$(el).data("ionRangeSlider").options.type?2:1}}),Shiny.inputBindings.register(sliderTextBinding,"shiny.sliderText");var spectrumInputBinding=new Shiny.InputBinding;$.extend(spectrumInputBinding,{find:function(scope){return $(scope).find(".sw-spectrum")},getId:function(el){return $(el).attr("id")},getValue:function(el){return $(el).spectrum("get").toHexString()},setValue:function(el,value){$(el).spectrum("set",value)},subscribe:function(el,callback){$(el).on("change",function(){callback()})},unsubscribe:function(el){$(el).off(".spectrumInputBinding")},receiveMessage:function(el,data){data.hasOwnProperty("value")&&this.setValue(el,data.value),$(el).trigger("change")},getState:function(el){return{value:this.getValue(el)}},initialize:function(el){var opts={},update_on=$(el).attr("data-update-on");$(el).removeAttr("data-update-on"),"dragstop"==update_on&&$(el).on("dragstop.spectrum",function(){$(el).trigger("change")}),"move"==update_on&&(opts.move=function(){$(el).trigger("change")}),"change"==update_on&&(opts.change=function(){$(el).trigger("change")}),$(el).spectrum(opts)},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(spectrumInputBinding,"shiny.spectrumInput"),Shiny.addCustomMessageHandler("sweetalert-sw",function(data){if(data.as_html){var elsw=document.createElement("span");elsw.innerHTML=data.config.text,data.config.html=elsw,Swal.fire(data.config).then(function(){var els=$("#"+data.sw_id);els.each(function(i,el){return window.Shiny.unbindAll(el,!0),$(el).remove(),!0})})}else Swal.fire(data.config)}),Shiny.addCustomMessageHandler("sweetalert-sw-confirm",function(data){Shiny.onInputChange(data.id,null),Swal.fire(data.swal).then(data.as_html?function(result){result.value?Shiny.onInputChange(data.id,!0):Shiny.onInputChange(data.id,!1);var els=$("#"+data.sw_id);els.each(function(i,el){return window.Shiny.unbindAll(el,!0),$(el).remove(),!0})}:function(result){result.value?Shiny.onInputChange(data.id,!0):Shiny.onInputChange(data.id,!1)})}),Shiny.addCustomMessageHandler("sweetalert-sw-input",function(data){data.reset_input&&Shiny.setInputValue(data.id,null),Swal.fire(data.swal).then(function(result){Shiny.setInputValue(data.id,result.value,{priority:"event"})})}),Shiny.addCustomMessageHandler("sweetalert-sw-progress",function(data){var itm=document.getElementById(data.idel);itm.style.display="block",data.content=itm,Swal.fire(data)}),Shiny.addCustomMessageHandler("sweetalert-toast",function(data){Swal.fire(data)}),function(arr){arr.forEach(function(item){item.hasOwnProperty("remove")||Object.defineProperty(item,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Shiny.addCustomMessageHandler("sweetalert-sw-close",function(){Swal.close()});var shinyMode="undefined"!=typeof window.Shiny&&!!window.Shiny.inputBindings;if(shinyMode){var VerticalTabInputBinding=new Shiny.InputBinding;$.extend(VerticalTabInputBinding,{find:function(scope){return $(scope).find(".vertical-tab-panel")},getId:function(el){return el.id},getValue:function(el){return $(el).find(".active").attr("data-value")},setValue:function(){},receiveMessage:function(el,data){var $el=$(el);if(data.hasOwnProperty("value"))$el.find("[data-value='"+data.value+"']").click();else if(data.hasOwnProperty("validate"))0===$el.children(".active").length&&$el.children().length>0&&$el.children().last().click();else if(data.hasOwnProperty("reorder")){var items=$el.children();items.detach(),$el.append($.map(data.reorder,function(v){return items[v-1]}))}},subscribe:function(el,callback){$(el).on("click",function(){callback()})},unsubscribe:function(el){$(el).off(".VerticalTabInputBinding")}}),Shiny.inputBindings.register(VerticalTabInputBinding,"shiny.VerticalTabInput")}
